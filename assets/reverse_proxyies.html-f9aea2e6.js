import{_ as r,W as o,X as i,Z as e,$ as n,a0 as t,Y as a,G as d}from"./framework-b5535326.js";const s={},c=a('<h2 id="什么是内网穿透" tabindex="-1"><a class="header-anchor" href="#什么是内网穿透" aria-hidden="true">#</a> 什么是内网穿透</h2><blockquote><p>内网穿透，指的是将内网端口暴露到公网。由于防火墙的限制，或者普遍的 NAT 宽带接入方式，大多用户没有属于自己的公网 IP，因此其它用户无法访问其设备上对外开放的服务（例如 Web 服务器，或者比较常见的案例是 Minecraft 服务器）。过去有许多常见的内网穿透解决方案（例如花生壳、Ngrok、frp 及一系列衍生自 frp 的服务等），而 Cloudflare Tunnel 的免费开放，又为我们提供了一种看起来不错的新选择。内网穿透，指的是将内网端口暴露到公网。</p></blockquote><h2 id="方法和工具" tabindex="-1"><a class="header-anchor" href="#方法和工具" aria-hidden="true">#</a> 方法和工具</h2><p>主要有这么几种。</p><ul><li>CloudFlare Tunnel</li><li>FRP</li><li>Zerotier</li></ul><h2 id="cloudflare-tunnel" tabindex="-1"><a class="header-anchor" href="#cloudflare-tunnel" aria-hidden="true">#</a> Cloudflare Tunnel</h2><div class="hint-container tip"><p class="hint-container-title">先决条件</p><p>需要把DNS域名托管在CloudFalre</p></div>',7),u={class:"hint-container tip"},p=e("p",{class:"hint-container-title"},"Updates",-1),h={href:"https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/install-and-setup/tunnel-guide/local/local-management/arguments/",target:"_blank",rel:"noopener noreferrer"},f=a(`<ul><li>以下是使用http2</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>/usr/bin/cloudflared --protocol http2 \\
--no-autoupdate tunnel run \\ 
--token ***
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>以下是使用ipv6</li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>docker run -d --network host --name=cloudflared \\ 
--restart unless-stopped cloudflare/cloudflared:latest \\
tunnel --edge-ip-version=6 --protocol=auto \\ 
--region=us --no-autoupdate run \\
--token ********************

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4),v=a('<p><strong>大致步骤</strong></p><ul><li>申请免费的CloudFlare账户</li><li>内网服务器要安装cloudflared软件</li><li>创建CloudFlare Tunnel。</li></ul><p>创建Tunnel有2种方式：</p><ul><li>remotely-managed tunnel。可以Cloudflare Tunnel新建向导生成的配置命令则是remoted-managed</li><li>local-managed tunnel. 需要在本地安装cloudflare tunnel代理，登录然后新建tunnel.</li></ul><h2 id="frp" tabindex="-1"><a class="header-anchor" href="#frp" aria-hidden="true">#</a> frp</h2><blockquote><p>frp 是一个开源项目，专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网。</p></blockquote><div class="hint-container tip"><p class="hint-container-title">前提条件</p><p>需要一台ECS云主机，有公网IP</p></div><p><strong>Github项目</strong></p>',8),m={href:"https://github.com/fatedier/frp/blob/dev/README_zh.md",target:"_blank",rel:"noopener noreferrer"},_=e("p",null,[e("strong",null,"文档位置")],-1),g={href:"https://gofrp.org/docs/",target:"_blank",rel:"noopener noreferrer"};function b(x,k){const l=d("ExternalLinkIcon");return o(),i("div",null,[c,e("div",u,[p,e("p",null,[n("(2023/10/12) Cloudflare Tunnel默认使用QUIC协议，在墙内经常连不上Cloudflare边缘服务器网络。可以尝试改成http2或是ipv6。具体参考： "),e("a",h,[n("https://developers.cloudflare.com/cloudflare-one/connections/connect-apps/install-and-setup/tunnel-guide/local/local-management/arguments/"),t(l)])]),f]),v,e("p",null,[e("a",m,[n("https://github.com/fatedier/frp/blob/dev/README_zh.md"),t(l)])]),_,e("p",null,[e("a",g,[n("https://gofrp.org/docs/"),t(l)])])])}const C=r(s,[["render",b],["__file","reverse_proxyies.html.vue"]]);export{C as default};
