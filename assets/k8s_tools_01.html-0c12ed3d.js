import{_ as e,W as a,X as r,Y as n}from"./framework-2e6688e7.js";const s={},c=n(`<div class="hint-container note"><p class="hint-container-title">注</p><p>想了解一下k8s快速部署集群的工具都有哪些，哪个更省力省时。</p></div><h2 id="介绍" tabindex="-1"><a class="header-anchor" href="#介绍" aria-hidden="true">#</a> 介绍</h2><p>通过网上了解到,Kubernetes集群部署工具有很多，主要有：</p><ul><li>Minikube (只适合个人测试)</li><li>Kubeadmin (Kubernetes官方的command-line工具)</li><li>RKE (Rancher出品的轻量部署工具)</li><li>Rancher Server (Rancher的集群部署/管理)</li></ul><h2 id="比较和倾向" tabindex="-1"><a class="header-anchor" href="#比较和倾向" aria-hidden="true">#</a> 比较和倾向</h2><ul><li>除了MinuKube, 其他3个可以用于生产环境部署Kubernetes；</li><li>Kubeadmin 和RKE好像只能用于本地基础架构下部署Kubernetes，不支持Cloud Infrastructure Provider,例如AWS云等。</li><li>Rancher Server 支持Cloud Provider也支持本地裸金属服务器上部署；且有Web UI</li></ul><p><strong>所以如果自建Kubernetes，个人比较倾向使用<code>Rancher Server</code>来部署Kubernetes，比较快速。</strong></p><h2 id="使用rancher-server" tabindex="-1"><a class="header-anchor" href="#使用rancher-server" aria-hidden="true">#</a> 使用Rancher Server</h2><h3 id="安装部署rancher-server" tabindex="-1"><a class="header-anchor" href="#安装部署rancher-server" aria-hidden="true">#</a> 安装部署Rancher Server</h3><p>Rancher Server 可以Docker形式部署在Kubernetes之外，也可以二进制部署。</p><h3 id="使用rancher-server-创建集群" tabindex="-1"><a class="header-anchor" href="#使用rancher-server-创建集群" aria-hidden="true">#</a> 使用Rancher Server 创建集群</h3><ol><li>需要规划好集群。比如选择集群网络插件，集群规模。一般生产环境建议使用3个etcd节点起步（奇数个etcd)。</li><li>在每个节点上安装好操作系统；</li><li>在每个节点上安装好必备软件环境（Docker等） ::: 关于Docker版本</li></ol><p>所有节点上的Docker版本保持一致。如果是虚拟机，可以克隆成模板使用.</p><p>::: 4. 在每个节点上配置好防火墙（或是关闭）； 5. 在Rancher Server上创建集群，生成集群配置。 6. 在每个节点上执行Rancher Server上生成的配置命令，注册加入,类似：</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">curl</span> <span class="token parameter variable">-fL</span> https://my-rancher-server/system-agent-install.sh <span class="token operator">|</span> <span class="token function">sudo</span>  <span class="token function">sh</span> <span class="token parameter variable">-s</span> - <span class="token parameter variable">--server</span> https://my-rancher-server <span class="token parameter variable">--label</span> <span class="token string">&#39;cattle.io/os=linux&#39;</span> <span class="token parameter variable">--token</span> 94dmz8db447rhqx2hm82v96vwl8wvdtvcd77mgb2t9mcmcl2n7mcth --ca-checksum 1aabd46120eb41ab0b20a088ccc7b327c79aaf2cc9ed64c2a9ced335c7ec349a <span class="token parameter variable">--etcd</span> <span class="token parameter variable">--controlplane</span> <span class="token parameter variable">--worker</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><div class="hint-container tip"><p class="hint-container-title">提示</p><p>Rancher Server除了支持裸金属服务器和vSphere虚拟环境上部署，也支持 AWS/Azure/Google云主机节点上创建集群；</p></div><h2 id="其他" tabindex="-1"><a class="header-anchor" href="#其他" aria-hidden="true">#</a> 其他</h2><p>除了自己部署Kubernetes外，也可以选择成品Kubernetes，。像AWS,阿里云都有自己的Kubernetes产品，不需要用户自己部署，升级和部署都很省时省力。</p>`,18),t=[c];function i(l,h){return a(),r("div",null,t)}const d=e(s,[["render",i],["__file","k8s_tools_01.html.vue"]]);export{d as default};
